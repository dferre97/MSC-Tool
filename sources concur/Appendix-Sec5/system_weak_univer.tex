\begin{figure}[t]
\begin{center}
  \begin{tikzpicture}[>=stealth,node distance=3.2cm,shorten >=1pt,
    every state/.style={text=black, scale =0.75}, semithick,
    font={\fontsize{8pt}{12}\selectfont},
    scale = 0.9
    ]
  \begin{scope}[->]
      \node[state,initial,initial text={}] (q0)  {$\ell_p^{0}$};
      \node[state, right of=q0] (q1)  {$\ell_p^{1}$};
			\node[state, right of=q1] (q2) {$\ell_p^{2}$};

    	\path (q0) edge node [above] {$\send{p}{q}{\msg_1}$} (q1);
			\path (q1) edge node [above] {$\rec{q}{p}{\msg_2}$}(q2);
    	\node[thick] at (-1.1,0) {$A_p$};
  \end{scope}

  \begin{scope}[->, shift={(7.5,0)}]
      \node[state,initial,initial text={}] (q0)  {$\ell_q^{0}$};
			\node[state, right of=q0] (q1)  {$\ell_q^{1}$};
			\node[state, below of=q1, node distance = 1.75cm] (q2) {$\ell_q^{2}$};
			\node[state, left of=q2] (q3)  {$\ell_q^{3}$};

			\path (q0) edge node [above] {$\send{q}{p}{\msg_2}$} (q1);
			\path (q1) edge node [right] {$\send{q}{r}{\msg_3}$}(q2);
			\path (q2) edge node [above] {$\rec{r}{q}{\msg_4}$} (q3);
			\node[thick] at (-1.1,0) {$A_q$};
  \end{scope}

	\begin{scope}[->, shift={(0,-1.5)} ]
      \node[state,initial,initial text={}] (q0)  {$\ell_r^{0}$};
			\node[state, right of=q0] (q1)  {$\ell_r^{1}$};
			\node[state, right of=q1] (q2) {$\ell_r^{2}$};

			\path (q0) edge node [above] {$\rec{q}{r}{\msg_3}$} (q1);
			\path (q1) edge node [above] {$\send{r}{q}{\msg_4}$}(q2);
			\node[thick] at (-1.1,0) {$A_r$};
  \end{scope}
\end{tikzpicture}
\captionof{figure}{System $\System_1$}
\label{fig:system_weak_univer}
\end{center}
\end{figure}
