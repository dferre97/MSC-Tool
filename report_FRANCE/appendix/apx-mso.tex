% !TEX root = ../popl-paper.tex

In this section we give MSO formulas for some MSO-definable properties that are used throughout the report.

\paragraph*{Transitive Closure}
Given a binary relation $\abinrel$, we can express its reflexive transitive closure $\abinrel^*$ in MSO as
\[
x \abinrel^* y = \forall X.(x \in X \;\wedge\; forward\_closed(X)) \implies y \in X
\]
\[
forward\_closed(X) = \forall z.\forall t.(z \in X \;\wedge\; z \abinrel t) \implies t \in X
\]
The transitive (but not necessarily reflexive) 
closure of $\abinrel$ can also be expressed as
\[
    x \abinrel^+ y = \forall X.\ \big(
        \forall z,t\ (z\in X\cup\{x\}\wedge z \abinrel t)\implies t \in X\big) \implies y\in X
\]
        
\paragraph*{Acyclicity} 

Given a binary relation $\abinrel$, we can use MSO to express the 
acyclicity of $\abinrel$,
or equivalently, the fact that its transitive closure
$R^+$ is irreflexive.
\[
\Phi_{acyclic} =  \neg \exists x.(x \abinrel^+ x).   
\]